{% extends "base.html" %}

{% block content %}
    <div class="row">
        <div class="col-md-6 col-lg-5">
            <h2>Review your submission</h2>
            <form id="presubmitForm" action="{{ url_for('submit') }}" method="POST">
                <h4>Name</h4>
                <p>{{ form_data.get('fullName', '') }}</p>
                <hr>
                <h4>Date/Time</h4>
                <p>{{ form_data.get('foodChoiceDateTime', '') }}</p>
                <hr>
                <h4>Food Choice</h4>
                <ul>
                    {% for p in form_data.get('food', []) %}
                        <li>{{ p }}</li>
                    {% endfor %}
                </ul>
                <hr>
                <h4>File Upload</h4>
                <pre>{{ form_data.get('file', '') }}</pre>
                <hr>
                <div class="accordion" id="termsAccordion">
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingOne">
                            <button id="toggleBtn" class="accordion-button collapsed" type="button"
                                    aria-expanded="false" aria-controls="termsBody">
                                <b>Expand to accept the terms and conditions</b>
                                <span id="toggleText" class="ms-2 small text-muted"> — Show more ▼</span>
                            </button>
                        </h2>
                        <div id="termsBody" class="accordion-collapse">
                            <div id="termsText" class="accordion-body preview-collapse">
                                {{ terms_conditions }}
                                <div class="form-check mt-3">
                                    <input class="form-check-input" type="checkbox" id="acceptCheckbox">
                                    <label class="form-check-label" for="acceptCheck">
                                        I Accept
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="d-flex justify-content-end">
                    <button type="submit" class="text-right btn btn-primary mt-2" id="submitForm">Submit</button>
                </div>
            </form>
        </div>
    </div>

{% endblock %}
{% block scripts %}
<script src="{{ url_for('static', filename='js/presubmit.js') }}"></script>
{% endblock %}